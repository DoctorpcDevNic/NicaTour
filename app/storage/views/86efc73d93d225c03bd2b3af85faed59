<?php $__env->startSection('contenido'); ?>

	<div class="container-fluid">
		<h2 class="titul">Restaurante de <?php echo $depto->nombre; ?></h2>		
				<?php if(!count($Rest)==0): ?>					
					<div class="row">
						<div class="col-md-4">
							
						</div>
						<div class="col-md-8">
							<h2 class="titul"><?php echo $Rest->nombre; ?></h2>
						</div>
					</div>				
			<div class="row">
					<div class="divider">
						<div class="form-group">
						<br>
							<?php if(Session::has('message')): ?>
								<div class="alert alert-info"><?php echo Session::get('message'); ?></div>
							<?php endif; ?>
						</div>

			<?php /*Editar Informacion General*/ ?>

						<?php echo Form::open(array('url'=>'administrador/Restaurantes/Update/General/'.$Rest->id, 'class' => 'form-horizontal')); ?>

						<div class="form-group">
							<div class="col-sm-6 control-label">
								<h3>Informacion General</h3>
							</div>
						</div>
						<div class="form-group">
							<?php echo Form::label('lbldepartamento', 'Seleccionar departamento', array('class' => 'col-sm-2 control-label')); ?>

							<div class="col-sm-7">
								<select class="form-control" id="departamento" name="departamento">
									<?php foreach($DptosAll as $value): ?>
										<?php if($value->id==$Rest->id_depto): ?>
								  			<option value="<?php echo $value->id; ?>" selected=""><?php echo $value->nombre; ?></option>
								  		<?php else: ?>
								  			<option value="<?php echo $value->id; ?>"><?php echo $value->nombre; ?></option>
								  		<?php endif; ?>
								  	<?php endforeach; ?>					  
								</select>
							</div>				
						</div>
						<div class="form-group">
							<?php echo Form::label('Municipio', 'Municipio', array('class' => 'col-sm-2 control-label')); ?>

							<div class="col-sm-7">
								<?php echo Form::text('municipio', Input::old('titulo') ? Input::old():$Rest->municipio, array('class' => 'form-control', 'placeholder'=> 'Municipio')); ?>

							</div>
						</div>
						<div class="form-group">
							<?php echo Form::label('Nombre', 'Nombre', array('class' => 'col-sm-2 control-label')); ?>

							<div class="col-sm-7">
								<?php echo Form::text('nombre', Input::old('titulo') ? Input::old():$Rest->nombre, array('class' => 'form-control', 'placeholder'=> 'Nombre del local')); ?>

							</div>
						</div>
						<div class="form-group">
							<?php echo Form::label('telefono', 'Telefono', array('class' => 'col-sm-2 control-label')); ?>

							<div class="col-sm-7">
								<?php echo Form::text('telefono', Input::old('telefono') ? Input::old():$Rest->telefono, array('class' => 'form-control', 'placeholder'=> 'Telefono del local')); ?>

							</div>
						</div>
						<div class="form-group">
							<?php echo Form::label('direccion', 'Direccion', array('class' => 'col-sm-2 control-label')); ?>

							<div class="col-sm-7">
								<?php echo Form::textarea('direccion', Input::old('direccion') ? Input::old():$Rest->direccion, array('class' => 'form-control', 'placeholder'=> 'Direccion del local', 'size' => '30x5')); ?>

							</div>
						</div>
						<div class="form-group">
							<div class="col-sm-offset-2 col-sm-10">
								<?php echo Form::submit('Actualizar' , array('class'=> 'btn btn-primary')); ?>

							</div>	
						</div>
						<?php echo Form::close(); ?>

						
						<br>
			<?php /*Fin Editar Informacion General*/ ?>


			<?php /*Revisa si existen traducciones*/ ?>
						<?php if(!count($Descripcion)==0): ?>
							<?php foreach($idioma as $key): ?>
								<?php foreach($Descripcion as $valor): ?>

								<?php /*Recorre todas las descripciones y compara si pertenece al mismo idioma para editarlo*/ ?>
									<?php if($key->id!=1): ?>
										<?php if($valor->id_idioma==$key->id): ?>
											<?php echo Form::open(array('url'=>'administrador/Restaurantes/Update/Traduccion/'.$valor->id, 'class' => 'form-horizontal')); ?>

												<div class="form-group">
													<?php echo Form::label('Idioma', $key->nombre, array('class' => 'col-sm-6 control-label')); ?>

												</div>
												<div class="form-group">
													<?php echo Form::label('Titulo', 'Nombre', array('class' => 'col-sm-2 control-label')); ?>

													<div class="col-sm-7">
														<?php echo Form::text('nombre', Input::old('titulo') ? Input::old(): $valor->nombre, array('class' => 'form-control', 'placeholder'=> 'Nombre del local')); ?>

													</div>
												</div>
												<div class="form-group">
													<?php echo Form::label('direccion', 'Direccion', array('class' => 'col-sm-2 control-label')); ?>

													<div class="col-sm-7">
														<?php echo Form::textarea('direccion', Input::old('direccion') ? Input::old(): $valor->direccion, array('class' => 'form-control', 'placeholder'=> 'Direccion del local', 'size' => '30x5')); ?>

													</div>
												</div>
												<div class="form-group">
													<div class="col-sm-offset-2 col-sm-10">
														<?php echo Form::submit('Actualizar' , array('class'=> 'btn btn-primary')); ?>

													</div>	
												</div>
											<?php echo Form::close(); ?>

											<br>
										<?php else: ?>
										<?php /*Se muestran los idiomas que no tienen taduccion*/ ?>
											<?php if((count($idioma)-1)>count($Descripcion)): ?>
												<div class="divider">
													<?php echo Form::open(array('url'=>'administrador/Restaurantes/traduccion/add/'.$key->id.'/'.$Rest->id, 'class' => 'form-horizontal')); ?>

														<div class="form-group">
															<?php echo Form::label('Idioma', $key->nombre, array('class' => 'col-sm-6 control-label')); ?>

														</div>
														<div class="form-group">
															<?php echo Form::label('nombre', 'Nombre', array('class' => 'col-sm-2 control-label')); ?>

															<div class="col-sm-7">
																<?php echo Form::text('nombre', Input::old('nombre') ? Input::old():'' , array('class' => 'form-control', 'placeholder'=> 'Nombre del local')); ?>

															</div>
														</div>
														<div class="form-group">
															<?php echo Form::label('direccion', 'Direccion', array('class' => 'col-sm-2 control-label')); ?>

															<div class="col-sm-7">
																<?php echo Form::textarea('direccion', Input::old('direccion') ? Input::old():'', array('class' => 'form-control', 'placeholder'=> 'Direccion del local', 'size' => '30x5')); ?>

															</div>
														</div>
														<div class="form-group">
															<div class="col-sm-offset-2 col-sm-10">
																<?php echo Form::submit('Agregar Traducción en '.$key->nombre , array('class'=> 'btn btn-primary')); ?>

															</div>	
														</div>
													<?php echo Form::close(); ?>

												</div>
												<br>
											<?php endif; ?>
										<?php endif; ?>
									<?php endif; ?>
								<?php endforeach; ?>							
							<?php endforeach; ?>


				<?php /*Si no existe ninguna traduccion, permite agregar exceptuando el espanol*/ ?>
							<?php else: ?>
								<?php foreach($idioma as $variable): ?>
									<?php if($variable->id!=1): ?>
										<div class="divider">
											<?php echo Form::open(array('url'=>'administrador/Restaurantes/traduccion/add/'.$variable->id.'/'.$Rest->id, 'class' => 'form-horizontal')); ?>

												<div class="form-group">
													<?php echo Form::label('Idioma', $variable->nombre, array('class' => 'col-sm-6 control-label')); ?>

												</div>
												<div class="form-group">
													<?php echo Form::label('nombre', 'Nombre', array('class' => 'col-sm-2 control-label')); ?>

													<div class="col-sm-7">
														<?php echo Form::text('nombre', Input::old('nombre') ? Input::old():'' , array('class' => 'form-control', 'placeholder'=> 'Nombre del local')); ?>

													</div>
												</div>
												<div class="form-group">
													<?php echo Form::label('direccion', 'Direccion', array('class' => 'col-sm-2 control-label')); ?>

													<div class="col-sm-7">
														<?php echo Form::textarea('direccion', Input::old('direccion') ? Input::old():'', array('class' => 'form-control', 'placeholder'=> 'Direccion del local', 'size' => '30x5')); ?>

													</div>
												</div>
												<div class="form-group">
													<div class="col-sm-offset-2 col-sm-10">
														<?php echo Form::submit('Agregar Traducción en '.$variable->nombre , array('class'=> 'btn btn-primary')); ?>

													</div>	
												</div>
											<?php echo Form::close(); ?>

										</div>
										<br>
									<?php endif; ?>
								<?php endforeach; ?>
						<?php endif; ?>					
					</div>
				<?php else: ?>
					<h2 class="titul">No se ha encontrado ninguna informacion</h2>
				<?php endif; ?>	
			</div>	
	</div>
<?php $__env->stopSection(); ?>
<?php echo $__env->make('templates.adminTemplate', array_except(get_defined_vars(), array('__data', '__path')))->render(); ?>